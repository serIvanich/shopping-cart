(this["webpackJsonptest-hlt"]=this["webpackJsonptest-hlt"]||[]).push([[0],{10:function(e,t,r){e.exports={inputContainer:"Input_inputContainer__1HMVe",generalInput:"Input_generalInput__3gFmq",errorInput:"Input_errorInput__28GDJ",textError:"Input_textError__1MxCn",closeError:"Input_closeError__2ll0-"}},13:function(e,t,r){e.exports={settingModal:"ModalBuy_settingModal__c8rTb",settingModalForm:"ModalBuy_settingModalForm__lV-Z0",inputBox:"ModalBuy_inputBox__33PAS",buttonFormSubmit:"ModalBuy_buttonFormSubmit__3CcYE"}},20:function(e,t,r){e.exports={itemsViewContainer:"ItemsViewContainer_itemsViewContainer__2FZkD",itemsBlock:"ItemsViewContainer_itemsBlock__98BGG",buttonContainer:"ItemsViewContainer_buttonContainer__y_znY"}},21:function(e,t,r){e.exports={modalContainer:"Modal_modalContainer__1ZUXt",modalBox:"Modal_modalBox__7rU0h",closeButton:"Modal_closeButton__3Hs-Z"}},34:function(e,t,r){e.exports={preloaderContainer:"Preloader_preloaderContainer__1aB3l"}},38:function(e,t,r){e.exports={styleSnackbar:"ErrorSnackbar_styleSnackbar__2CEQT"}},39:function(e,t,r){e.exports={app:"App_app__VRjG9"}},44:function(e,t,r){},68:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"selectorStatus",(function(){return y})),r.d(n,"selectorError",(function(){return N}));var a={};r.r(a),r.d(a,"selectorItems",(function(){return w}));var o=r(0),c=r.n(o),s=r(16),i=r.n(s),u=(r(44),r(8)),l=r(9),d=r.n(l),m=r(1),b=c.a.memo((function(e){var t=e.item,r=e.show,n=e.onShowModal,a=e.isModalItems,o=t.name,c=t.category,s=t.price,i=a?d.a.styleModalItems:"";return Object(m.jsxs)("div",{className:"".concat(d.a.itemBox," ").concat(i),children:[Object(m.jsx)("div",{className:d.a.setCategory,children:c}),Object(m.jsx)("div",{className:d.a.setTitle,children:o}),Object(m.jsxs)("div",{className:d.a.blockWithButton,children:[Object(m.jsxs)("div",{className:d.a.priceBox,children:[Object(m.jsx)("span",{className:d.a.logoPrice,children:"$"}),s]}),!a&&Object(m.jsx)("button",{disabled:r,onClick:function(){n(t)},children:r?"(=)":"buy"})]})]})})),p=r(7),j=r(20),h=r.n(j),O=r.p+"static/media/1486.279ed7ee.gif",f=r(34),_=r.n(f),x=function(){return Object(m.jsx)("div",{className:_.a.preloaderContainer,children:Object(m.jsx)("img",{src:O,alt:"preload..."})})},v=r(3);var g=r(19),C=function(e){return Math.floor(Math.random()*e)},I=r(2),y=function(e){return e.app.status},N=function(e){return e.app.error},S=r(5),B={setAppStatus:Object(S.b)("app/setAppStatus"),setAppError:Object(S.b)("app/setAppError")},E=Object(S.d)({name:"app",initialState:{status:"idle",error:""},reducers:{},extraReducers:function(e){e.addCase(B.setAppStatus,(function(e,t){e.status=t.payload.status})).addCase(B.setAppError,(function(e,t){e.error=t.payload.error}))}}),M=E.reducer,w=(Object(I.a)({},E.actions),function(e){return e.items.itemsArray}),k=r(35),F=r(24),A=r.n(F),T=r(36),V=r.n(T).a.create({baseURL:"https://run.mocky.io/v3/",withCredentials:!0}),P=function(){return V.get("b7d36eea-0b3f-414a-ba44-711b5f5e528e").then((function(e){return e.data}))},R=r(18),G=function(e,t,r,n,a){var o=function(e,t){a((function(r){return Object(I.a)(Object(I.a)({},r),{},Object(R.a)({},"".concat(e,"Error"),t))}))};"name"===e&&(t?/^[a-zA-Z]+$/i.test(t)||o(e,"Only letters allowed"):o(e,"This field in required")),"phoneNumber"===e&&(r?/^[0-9]+$/i.test(r)?12!==r.length&&o(e,"Should contain 12 characters"):o(e,"Only numbers allowed"):o(e,"This field in required"))},Z=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&t.dispatch(B.setAppError({error:e.message?e.message:"Some error occurred"})),t.dispatch(B.setAppStatus({status:"failed"})),t.rejectWithValue({errors:[e.message],fieldsErrors:void 0})},D=Object(S.c)("items/getItems",function(){var e=Object(k.a)(A.a.mark((function e(t,r){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch(B.setAppStatus({status:"loading"})),e.prev=1,e.next=4,P();case 4:return n=e.sent,r.dispatch(B.setAppStatus({status:"success"})),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",Z(e.t0,r));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}()),L={getItems:D},U=Object(S.d)({name:"items",initialState:{itemsArray:[]},reducers:{},extraReducers:function(e){e.addCase(D.fulfilled,(function(e,t){var r;(r=e.itemsArray).push.apply(r,Object(g.a)(t.payload))}))}}),W=U.reducer,Y=Object(I.a)(Object(I.a)({},L),U.actions),q=function(e){var t=e.show,r=e.onShowModal,c=Object(o.useState)([]),s=Object(u.a)(c,2),i=s[0],l=s[1],d=function(e){var t=Object(p.b)();return Object(o.useMemo)((function(){return Object(v.b)(e,t)}),[e,t])}(Y).getItems;Object(o.useEffect)((function(){d()}),[d]);var j=Object(p.c)(a.selectorItems),O=Object(p.c)(n.selectorStatus);if(!j.length)return Object(m.jsx)(x,{});!i.length&&l((function(){return function(e,t){var r=Object(g.a)(e),n=[],a=0;if(0<t<e.length)for(;a<t;){++a;var o=C(r.length);n.push(r[o]),r.splice(o,1)}else n=e.slice(a,t);return n}(j,6)}));return Object(m.jsxs)("div",{className:h.a.itemsViewContainer,children:["loading"===O&&Object(m.jsx)(x,{}),Object(m.jsx)("div",{className:h.a.itemsBlock,children:i.map((function(e,n){return Object(m.jsx)(b,{item:e,show:t,onShowModal:r},n)}))}),Object(m.jsx)("button",{className:h.a.buttonContainer,onClick:function(){var e=i.reduce((function(e,t){return e.price&&e.price<t.price?e:t}),{});r(e)},disabled:"failed"===O||t,children:"Buy cheapest"})]})},J=r(21),$=r.n(J),z=c.a.memo((function(e){var t=e.closeModalOnClick,r=e.show,n=e.children;return r?Object(m.jsx)("div",{className:$.a.modalContainer,children:Object(m.jsxs)("div",{className:$.a.modalBox,children:[n,Object(m.jsx)("div",{className:$.a.closeButton,onClick:t,children:"x"})]})}):null})),H=r(13),Q=r.n(H),X=r(37),K=r(10),ee=r.n(K),te=["type","error","name","onChangeText","onFocusInput"],re=c.a.memo((function(e){var t=e.type,r=e.error,n=e.name,a=e.onChangeText,o=e.onFocusInput,c=Object(X.a)(e,te),s=r?ee.a.errorInput:ee.a.generalInput,i=r?"":"visibility";return Object(m.jsxs)("div",{className:ee.a.inputContainer,children:[Object(m.jsx)("input",Object(I.a)({type:t,name:n,onChange:function(e){a&&a(e.currentTarget.value)},className:s,onFocus:function(e){o(e.target.name)}},c)),Object(m.jsx)("small",{className:ee.a.textError,hidden:i,children:r}),Object(m.jsx)("div",{className:ee.a.closeError,onClick:function(e){var t=e.target.dataset.name;o(t,!0)},hidden:i,"data-name":n,children:"\u0445"})]})})),ne=c.a.memo((function(e){var t=e.currentItem,r=e.show,n=e.setShow,a=Object(o.useState)(""),c=Object(u.a)(a,2),s=c[0],i=c[1],l=Object(o.useState)(""),d=Object(u.a)(l,2),p=d[0],j=d[1],h=Object(o.useState)({nameError:"",phoneNumberError:""}),O=Object(u.a)(h,2),f=O[0],_=O[1],x=!1,v=!s||!!f.nameError,g=!p||!!f.phoneNumberError,C=v||g,y=function(e){G(e.target.name,s,p,0,_)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"name"===e?f.nameError&&(_(Object(I.a)(Object(I.a)({},f),{},{nameError:""})),t&&i("")):"phoneNumber"===e&&f.phoneNumberError&&(_(Object(I.a)(Object(I.a)({},f),{},{phoneNumberError:""})),t&&j(""))};return Object(m.jsx)("div",{children:Object(m.jsx)(z,{closeModalOnClick:function(){n(!1),_({nameError:"",phoneNumberError:""}),i(""),j("")},show:r,children:Object(m.jsxs)("div",{className:Q.a.settingModal,children:[Object(m.jsx)(b,{item:t,isModalItems:!0}),Object(m.jsxs)("form",{className:Q.a.settingModalForm,onSubmit:function(e){if(e.preventDefault(),v&&G("name",s,p,0,_),g&&G("phoneNumber",s,p,0,_),!C){x=!0;var t="name: ".concat(s,"  tel: ").concat(p);console.log(t)}},children:[Object(m.jsxs)("div",{className:Q.a.inputBox,children:[Object(m.jsx)(re,{name:"name",value:s,type:"text",error:f.nameError,onChangeText:i,placeholder:"Name",onFocusInput:N,onBlur:y}),Object(m.jsx)(re,{name:"phoneNumber",value:p,type:"text",error:f.phoneNumberError,onChangeText:j,placeholder:"Number",onFocusInput:N,onBlur:y})]}),Object(m.jsx)("button",{className:Q.a.buttonFormSubmit,disabled:x,type:"submit",children:"order"})]})]})})})})),ae=r(38),oe=r.n(ae),ce=c.a.memo((function(e){var t=e.error;return Object(m.jsx)("div",{className:oe.a.styleSnackbar,children:t})})),se=r(39),ie=r.n(se),ue=function(){var e=Object(p.c)(n.selectorError),t=Object(o.useState)({}),r=Object(u.a)(t,2),a=r[0],c=r[1],s=Object(o.useState)(!1),i=Object(u.a)(s,2),l=i[0],d=i[1];return Object(m.jsxs)("div",{className:ie.a.app,children:[Object(m.jsx)(q,{show:l,onShowModal:function(e){c(e),d(!0)}}),Object(m.jsx)(ne,{currentItem:a,show:l,setShow:d}),e&&Object(m.jsx)(ce,{error:e})]})},le=Object(v.c)({app:M,items:W}),de=r(12),me=Object(S.a)({reducer:le,middleware:function(e){return e().prepend(de.a)}});window.store=me;var be=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,70)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),o(e),c(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(p.a,{store:me,children:Object(m.jsx)(ue,{})})}),document.getElementById("root")),be()},9:function(e,t,r){e.exports={itemBox:"Item_itemBox__gYkuC",setCategory:"Item_setCategory__6f7gx",setTitle:"Item_setTitle__bTjUY",blockWithButton:"Item_blockWithButton__Q3MRo",priceBox:"Item_priceBox__3-E_k",logoPrice:"Item_logoPrice__1poaX",styleModalItems:"Item_styleModalItems__12GRL"}}},[[68,1,2]]]);
//# sourceMappingURL=main.b5edf675.chunk.js.map