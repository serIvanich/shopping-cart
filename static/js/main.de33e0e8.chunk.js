(this["webpackJsonptest-hlt"]=this["webpackJsonptest-hlt"]||[]).push([[0],{10:function(e,t,r){e.exports={inputContainer:"Input_inputContainer__1HMVe",generalInput:"Input_generalInput__3gFmq",errorInput:"Input_errorInput__28GDJ",textError:"Input_textError__1MxCn",closeError:"Input_closeError__2ll0-"}},13:function(e,t,r){e.exports={settingModal:"ModalBuy_settingModal__c8rTb",settingModalForm:"ModalBuy_settingModalForm__lV-Z0",inputBox:"ModalBuy_inputBox__33PAS",buttonFormSubmit:"ModalBuy_buttonFormSubmit__3CcYE"}},14:function(e,t,r){e.exports={reportContainer:"SubmitReport_reportContainer__1TO60",textReport:"SubmitReport_textReport__ziMlg"}},21:function(e,t,r){e.exports={itemsViewContainer:"ItemsViewContainer_itemsViewContainer__2FZkD",itemsBlock:"ItemsViewContainer_itemsBlock__98BGG",buttonContainer:"ItemsViewContainer_buttonContainer__y_znY"}},22:function(e,t,r){e.exports={modalContainer:"Modal_modalContainer__1ZUXt",modalBox:"Modal_modalBox__7rU0h",closeButton:"Modal_closeButton__3Hs-Z"}},35:function(e,t,r){e.exports={preloaderContainer:"Preloader_preloaderContainer__1aB3l"}},39:function(e,t,r){e.exports={styleSnackbar:"ErrorSnackbar_styleSnackbar__2CEQT"}},40:function(e,t,r){e.exports={app:"App_app__VRjG9"}},45:function(e,t,r){},69:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"selectorStatus",(function(){return y})),r.d(n,"selectorError",(function(){return I}));var a={};r.r(a),r.d(a,"selectorItems",(function(){return E}));var o=r(0),c=r.n(o),s=r(17),i=r.n(s),u=(r(45),r(5)),l=r(9),d=r.n(l),m=r(1),p=c.a.memo((function(e){var t=e.item,r=e.show,n=e.onShowModal,a=e.isModalItems,o=t.name,c=t.category,s=t.price,i=a?d.a.styleModalItems:"";return Object(m.jsxs)("div",{className:"".concat(d.a.itemBox," ").concat(i),children:[Object(m.jsx)("div",{className:d.a.setCategory,children:c}),Object(m.jsx)("div",{className:d.a.setTitle,children:o}),Object(m.jsxs)("div",{className:d.a.blockWithButton,children:[Object(m.jsxs)("div",{className:d.a.priceBox,children:[Object(m.jsx)("span",{className:d.a.logoPrice,children:"$"}),s]}),!a&&Object(m.jsx)("button",{disabled:r,onClick:function(){n(t)},children:r?":_:":"buy"})]})]})})),b=r(8),j=r(21),h=r.n(j),O=r.p+"static/media/1486.279ed7ee.gif",x=r(35),f=r.n(x),_=function(){return Object(m.jsx)("div",{className:f.a.preloaderContainer,children:Object(m.jsx)("img",{src:O,alt:"preload..."})})},v=r(3);var g=r(20),C=function(e){return Math.floor(Math.random()*e)},S=r(2),y=function(e){return e.app.status},I=function(e){return e.app.error},N=r(6),w={setAppStatus:Object(N.b)("app/setAppStatus"),setAppError:Object(N.b)("app/setAppError")},M=Object(N.d)({name:"app",initialState:{status:"idle",error:""},reducers:{},extraReducers:function(e){e.addCase(w.setAppStatus,(function(e,t){e.status=t.payload.status})).addCase(w.setAppError,(function(e,t){e.error=t.payload.error}))}}),B=M.reducer,E=(Object(S.a)({},M.actions),function(e){return e.items.itemsArray}),k=r(36),F=r(25),R=r.n(F),T=r(37),A=r.n(T).a.create({baseURL:"https://run.mocky.io/v3/",withCredentials:!0}),V=function(){return A.get("b7d36eea-0b3f-414a-ba44-711b5f5e528e").then((function(e){return e.data}))},P=r(19),D=function(e,t,r,n,a){var o=function(e,t){a((function(r){return Object(S.a)(Object(S.a)({},r),{},Object(P.a)({},"".concat(e,"Error"),t))}))};"name"===e&&(t?/^[a-zA-Z]+$/i.test(t)||o(e,"Only letters allowed"):o(e,"This field in required")),"phoneNumber"===e&&(r?/^[0-9]+$/i.test(r)?12!==r.length&&o(e,"Should contain 12 characters"):o(e,"Only numbers allowed"):o(e,"This field in required"))},G=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&t.dispatch(w.setAppError({error:e.message?e.message:"Some error occurred"})),t.dispatch(w.setAppStatus({status:"failed"})),t.rejectWithValue({errors:[e.message],fieldsErrors:void 0})},W=Object(N.c)("items/getItems",function(){var e=Object(k.a)(R.a.mark((function e(t,r){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch(w.setAppStatus({status:"loading"})),e.prev=1,e.next=4,V();case 4:return n=e.sent,r.dispatch(w.setAppStatus({status:"success"})),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",G(e.t0,r));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}()),Y={getItems:W},Z=Object(N.d)({name:"items",initialState:{itemsArray:[]},reducers:{},extraReducers:function(e){e.addCase(W.fulfilled,(function(e,t){var r;(r=e.itemsArray).push.apply(r,Object(g.a)(t.payload))}))}}),L=Z.reducer,U=Object(S.a)(Object(S.a)({},Y),Z.actions),q=function(e){var t=e.show,r=e.onShowModal,c=Object(o.useState)([]),s=Object(u.a)(c,2),i=s[0],l=s[1],d=function(e){var t=Object(b.b)();return Object(o.useMemo)((function(){return Object(v.b)(e,t)}),[e,t])}(U).getItems;Object(o.useEffect)((function(){d()}),[d]);var j=Object(b.c)(a.selectorItems),O=Object(b.c)(n.selectorStatus);if(!j.length)return Object(m.jsx)(_,{});!i.length&&l((function(){return function(e,t){var r=Object(g.a)(e),n=[],a=0;if(0<t<e.length)for(;a<t;){++a;var o=C(r.length);n.push(r[o]),r.splice(o,1)}else n=e.slice(a,t);return n}(j,6)}));return Object(m.jsxs)("div",{className:h.a.itemsViewContainer,children:["loading"===O&&Object(m.jsx)(_,{}),Object(m.jsx)("div",{className:h.a.itemsBlock,children:i.map((function(e,n){return Object(m.jsx)(p,{item:e,show:t,onShowModal:r},n)}))}),Object(m.jsx)("button",{className:h.a.buttonContainer,onClick:function(){var e=i.reduce((function(e,t){return e.price&&e.price<t.price?e:t}),{});r(e)},disabled:"failed"===O||t,children:"Buy cheapest"})]})},z=r(22),J=r.n(z),$=c.a.memo((function(e){var t=e.closeModalOnClick,r=e.show,n=e.children;return r?Object(m.jsx)("div",{className:J.a.modalContainer,children:Object(m.jsxs)("div",{className:J.a.modalBox,children:[n,Object(m.jsx)("div",{className:J.a.closeButton,onClick:t,children:"x"})]})}):null})),H=r(13),Q=r.n(H),X=r(38),K=r(10),ee=r.n(K),te=["type","error","name","onChangeText","onFocusInput"],re=c.a.memo((function(e){var t=e.type,r=e.error,n=e.name,a=e.onChangeText,o=e.onFocusInput,c=Object(X.a)(e,te),s=r?ee.a.errorInput:ee.a.generalInput,i=r?"":"visibility";return Object(m.jsxs)("div",{className:ee.a.inputContainer,children:[Object(m.jsx)("input",Object(S.a)({type:t,name:n,onChange:function(e){a&&a(e.currentTarget.value)},className:s,onFocus:function(e){o(e.target.name)}},c)),Object(m.jsx)("small",{className:ee.a.textError,hidden:i,children:r}),Object(m.jsx)("div",{className:ee.a.closeError,onClick:function(e){var t=e.target.dataset.name;o(t,!0)},hidden:i,"data-name":n,children:"\u0445"})]})})),ne=c.a.memo((function(e){var t=e.currentItem,r=e.show,n=e.setShow,a=e.setShowReport,c=e.setCurrentCustomer,s=Object(o.useState)(""),i=Object(u.a)(s,2),l=i[0],d=i[1],b=Object(o.useState)(""),j=Object(u.a)(b,2),h=j[0],O=j[1],x=Object(o.useState)({nameError:"",phoneNumberError:""}),f=Object(u.a)(x,2),_=f[0],v=f[1],g=!1,C=!l||!!_.nameError,y=!h||!!_.phoneNumberError,I=C||y,N=function(e){D(e.target.name,l,h,0,v)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"name"===e?_.nameError&&(v(Object(S.a)(Object(S.a)({},_),{},{nameError:""})),t&&d("")):"phoneNumber"===e&&_.phoneNumberError&&(v(Object(S.a)(Object(S.a)({},_),{},{phoneNumberError:""})),t&&O(""))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)($,{closeModalOnClick:function(){n(!1),v({nameError:"",phoneNumberError:""}),d(""),O("")},show:r,children:Object(m.jsxs)("div",{className:Q.a.settingModal,children:[Object(m.jsx)(p,{item:t,isModalItems:!0}),Object(m.jsxs)("form",{className:Q.a.settingModalForm,onSubmit:function(e){if(e.preventDefault(),C&&D("name",l,h,0,v),y&&D("phoneNumber",l,h,0,v),!I){g=!0;var t="name: ".concat(l,"  tel: ").concat(h);console.log(t),c({name:l,tel:h}),n(!1),a(!0)}},children:[Object(m.jsxs)("div",{className:Q.a.inputBox,children:[Object(m.jsx)(re,{name:"name",value:l,type:"text",error:_.nameError,onChangeText:d,placeholder:"Name",onFocusInput:w,onBlur:N}),Object(m.jsx)(re,{name:"phoneNumber",value:h,type:"text",error:_.phoneNumberError,onChangeText:O,placeholder:"Number",onFocusInput:w,onBlur:N})]}),Object(m.jsx)("button",{className:Q.a.buttonFormSubmit,disabled:g,type:"submit",children:"order"})]})]})})})})),ae=r(39),oe=r.n(ae),ce=c.a.memo((function(e){var t=e.error;return Object(m.jsx)("div",{className:oe.a.styleSnackbar,children:t})})),se=r(40),ie=r.n(se),ue=r(14),le=r.n(ue),de=function(e){var t=e.customer,r=e.purchase,n=e.showReport,a=e.setShowReport;return n?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)($,{closeModalOnClick:function(){a(!1)},show:n,children:Object(m.jsxs)("div",{className:le.a.reportContainer,children:[Object(m.jsxs)("div",{className:le.a.textReport,children:["Dear ",Object(m.jsx)("span",{children:t.name})]}),Object(m.jsxs)("div",{className:le.a.textReport,children:["Your purchase: ",Object(m.jsx)("span",{children:r.name})]}),Object(m.jsx)("div",{className:le.a.textReport,children:"We are really happy that you visited us and bought our product! Thank you!"})]})})}):null},me=function(){var e=Object(b.c)(n.selectorError),t=Object(o.useState)({}),r=Object(u.a)(t,2),a=r[0],c=r[1],s=Object(o.useState)({}),i=Object(u.a)(s,2),l=i[0],d=i[1],p=Object(o.useState)(!1),j=Object(u.a)(p,2),h=j[0],O=j[1],x=Object(o.useState)(!1),f=Object(u.a)(x,2),_=f[0],v=f[1];return Object(m.jsxs)("div",{className:ie.a.app,children:[Object(m.jsx)(q,{show:h,onShowModal:function(e){d(e),O(!0)}}),Object(m.jsx)(ne,{currentItem:l,show:h,setShow:O,setCurrentCustomer:c,setShowReport:v}),e&&Object(m.jsx)(ce,{error:e}),Object(m.jsx)(de,{customer:a,purchase:l,showReport:_,setShowReport:v})]})},pe=Object(v.c)({app:B,items:L}),be=r(12),je=Object(N.a)({reducer:pe,middleware:function(e){return e().prepend(be.a)}});window.store=je;var he=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,71)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),o(e),c(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(b.a,{store:je,children:Object(m.jsx)(me,{})})}),document.getElementById("root")),he()},9:function(e,t,r){e.exports={itemBox:"Item_itemBox__gYkuC",setCategory:"Item_setCategory__6f7gx",setTitle:"Item_setTitle__bTjUY",blockWithButton:"Item_blockWithButton__Q3MRo",priceBox:"Item_priceBox__3-E_k",logoPrice:"Item_logoPrice__1poaX",styleModalItems:"Item_styleModalItems__12GRL"}}},[[69,1,2]]]);
//# sourceMappingURL=main.de33e0e8.chunk.js.map