(this["webpackJsonptest-hlt"]=this["webpackJsonptest-hlt"]||[]).push([[0],{12:function(e,t,n){e.exports={itemBox:"Item_itemBox__P_ikZ",blockWithButton:"Item_blockWithButton__J06lJ",priceBox:"Item_priceBox__2vdET",logoPrice:"Item_logoPrice__1b78r"}},19:function(e,t,n){e.exports={itemsViewContainer:"ItemsViewContainer_itemsViewContainer__10MNz",itemsBlock:"ItemsViewContainer_itemsBlock__3F1Bm",buttonContainer:"ItemsViewContainer_buttonContainer__1nthU"}},32:function(e,t,n){e.exports={preloaderContainer:"Preloader_preloaderContainer__3P2EY"}},40:function(e,t,n){},41:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),c=n.n(o),s=(n(40),n(7)),i=(n(41),n(12)),u=n.n(i),l=n(1),d=function(e){var t=e.item,n=e.show,r=e.onShowModal,a=e.isModalItems,o=t.name,c=t.category,s=t.price,i={fontSize:"16px",textTransform:"uppercase"},d=a?{height:"180px",margin:"0",paddingTop:"20px",alignItems:"center",justifyContent:"space-between",border:"none"}:null;return Object(l.jsxs)("div",{className:u.a.itemBox,style:d||{},children:[Object(l.jsx)("div",{style:i,children:c}),Object(l.jsx)("div",{style:{fontSize:"40px"},children:o}),Object(l.jsxs)("div",{className:u.a.blockWithButton,children:[Object(l.jsxs)("div",{className:u.a.priceBox,children:[Object(l.jsx)("span",{className:u.a.logoPrice,children:"$"}),s]}),!a&&Object(l.jsx)("button",{style:i,disabled:n,onClick:function(){r(t)},children:n?"(=)":"buy"})]})]})},p=n(6),b=n(19),m=n.n(b),j=n.p+"static/media/1486.279ed7ee.gif",h=n(32),x=n.n(h),f=function(){return Object(l.jsx)("div",{className:x.a.preloaderContainer,children:Object(l.jsx)("img",{src:j,alt:"preload..."})})},O=n(2),g=n(18),v=n(22),_=n.n(v),y=n(33),I=n(34),w=n.n(I).a.create({baseURL:"https://run.mocky.io/v3/",withCredentials:!0}),N=function(){return w.get("b7d36eea-0b3f-414a-ba44-711b5f5e528e").then((function(e){return e.data}))},C=n(5),S={setAppStatus:Object(C.b)("app/setAppStatus"),setAppError:Object(C.b)("app/setAppError")},E=n(17),B=function(e,t,n,r,a){var o=function(e,t){a((function(n){return Object(O.a)(Object(O.a)({},n),{},Object(E.a)({},"".concat(e,"Error"),t))}))};"name"===e&&(t?/^[a-zA-Z]+$/i.test(t)||o(e,"Only letters allowed"):o(e,"This field in required")),"phoneNumber"===e&&(n?/^[0-9]+$/i.test(n)?12!==n.length&&o(e,"Should contain 12 characters"):o(e,"Only numbers allowed"):o(e,"This field in required"))},F=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n&&t.dispatch(S.setAppError({error:e.message?e.message:"Some error occurred"})),t.dispatch(S.setAppStatus({status:"failed"})),t.rejectWithValue({errors:[e.message],fieldsErrors:void 0})},k=Object(C.c)("items/getItems",function(){var e=Object(y.a)(_.a.mark((function e(t,n){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch(S.setAppStatus({status:"loading"})),e.prev=1,e.next=4,N();case 4:return r=e.sent,n.dispatch(S.setAppStatus({status:"success"})),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",F(e.t0,n));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),M={getItems:k},A=Object(C.d)({name:"items",initialState:{itemsArray:[]},reducers:{},extraReducers:function(e){e.addCase(k.fulfilled,(function(e,t){var n;(n=e.itemsArray).push.apply(n,Object(g.a)(t.payload))}))}}),z=A.reducer,T=Object(O.a)(Object(O.a)({},M),A.actions),P=n(3);var V=function(e){return Math.floor(Math.random()*e)},R=function(e){var t=e.show,n=e.onShowModal,a=Object(r.useState)([]),o=Object(s.a)(a,2),c=o[0],i=o[1],u=function(e){var t=Object(p.b)();return Object(r.useMemo)((function(){return Object(P.b)(e,t)}),[e,t])}(T).getItems;Object(r.useEffect)((function(){u()}),[u]);var b=Object(p.c)((function(e){return e.items.itemsArray})),j=Object(p.c)((function(e){return e.app.status}));if(!b.length)return Object(l.jsx)(f,{});!c.length&&i((function(){return function(e,t){var n=Object(g.a)(e),r=[],a=0;if(0<t<e.length)for(;a<t;){++a;var o=V(n.length);r.push(n[o]),n.splice(o,1)}else r=e.slice(a,t);return r}(b,6)}));return Object(l.jsxs)("div",{className:m.a.itemsViewContainer,children:["loading"===j&&Object(l.jsx)(f,{}),Object(l.jsx)("div",{className:m.a.itemsBlock,children:c.map((function(e,r){return Object(l.jsx)(d,{item:e,show:t,onShowModal:n},r)}))}),Object(l.jsx)("button",{className:m.a.buttonContainer,onClick:function(){var e=c.reduce((function(e,t){return e.price&&e.price<t.price?e:t}),{});n(e)},disabled:"failed"===j||t,children:"Buy cheapest"})]})},W=function(e){var t=e.enableBackground,n=e.backgroundStyle,r=e.closeModalOnClick,a=e.width,o=e.height,c=e.show,s=e.children,i="calc(50vh - ".concat(o/2,"px)"),u="calc(50vw - ".concat(a/2,"px)");return c?Object(l.jsxs)(l.Fragment,{children:[t&&Object(l.jsx)("div",{style:Object(O.a)({position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",background:"black",opacity:.35,zIndex:20},n)}),Object(l.jsxs)("div",{style:{position:"fixed",top:i,left:u,width:a,height:o,display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center",borderRadius:"24px",background:"#FFFFFF",zIndex:21},children:[s,Object(l.jsx)("div",{style:{width:"30px",height:"30px",position:"absolute",right:"-10px",top:"-10px",borderRadius:"50%",textAlign:"center",fontSize:"20px",backgroundColor:"#F2F2F2",zIndex:22},onClick:r,children:"x"})]})]}):null},J=n(8),L=n.n(J),Z=n(35),$=n(9),q=n.n($),D=["type","error","name","className","onChangeText","errorTextClassName","onFocusInput"],Q=function(e){var t=e.type,n=e.error,r=e.name,a=e.className,o=e.onChangeText,c=e.errorTextClassName,s=e.onFocusInput,i=Object(Z.a)(e,D),u="".concat(q.a.textError," ").concat(c||""),d="".concat(n?q.a.errorInput:q.a.generalInput," ").concat(a," "),p="visibility"==="".concat(n?"visibility":"hidden")?{zIndex:"20"}:null;return Object(l.jsxs)("div",{className:q.a.inputContainer,children:[Object(l.jsx)("input",Object(O.a)({type:t,name:r,onChange:function(e){o&&o(e.currentTarget.value)},className:d,onFocus:function(e){s(e.target.name)}},i)),Object(l.jsx)("small",{className:u,style:p,children:n}),Object(l.jsx)("div",{className:q.a.closeError,onClick:function(e){var t=e.target.previousElementSibling.previousElementSibling.name;s(t,!0)},style:p,children:"\u0445"})]})},U=function(e){var t=e.currentItem,n=e.show,a=e.setShow,o=Object(r.useState)(""),c=Object(s.a)(o,2),i=c[0],u=c[1],p=Object(r.useState)(""),b=Object(s.a)(p,2),m=b[0],j=b[1],h=Object(r.useState)({nameError:"",phoneNumberError:""}),x=Object(s.a)(h,2),f=x[0],g=x[1],v=!i||!!f.nameError,_=!m||!!f.phoneNumberError,y=v||_,I=function(e){B(e.target.name,i,m,0,g)},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"name"===e?f.nameError&&(g(Object(O.a)(Object(O.a)({},f),{},{nameError:""})),t&&u("")):"phoneNumber"===e&&f.phoneNumberError&&(g(Object(O.a)(Object(O.a)({},f),{},{phoneNumberError:""})),t&&j(""))};return Object(l.jsx)("div",{children:Object(l.jsx)(W,{enableBackground:!0,closeModalOnClick:function(){a(!1),g({nameError:"",phoneNumberError:""}),u(""),j("")},width:384,height:536,show:n,children:Object(l.jsxs)("div",{className:L.a.settingModal,children:[Object(l.jsx)(d,{item:t,isModalItems:!0}),Object(l.jsxs)("form",{className:L.a.settingModalForm,onSubmit:function(e){if(e.preventDefault(),v&&B("name",i,m,0,g),_&&B("phoneNumber",i,m,0,g),!y){var t="name: ".concat(i,"  tel: ").concat(m);console.log(t)}},children:[Object(l.jsxs)("div",{className:L.a.inputBox,children:[Object(l.jsx)(Q,{name:"name",value:i,type:"text",error:f.nameError,className:L.a.classNameInput,onChangeText:u,placeholder:"Name",onFocusInput:w,onBlur:I}),Object(l.jsx)(Q,{name:"phoneNumber",value:m,type:"text",error:f.phoneNumberError,className:L.a.classNameInput,onChangeText:j,placeholder:"Number",onFocusInput:w,onBlur:I})]}),Object(l.jsx)("button",{className:L.a.buttonFormSubmit,type:"submit",children:"order"})]})]})})})},H=function(e){var t=e.error;return Object(l.jsx)("div",{style:{padding:"5vh",position:"absolute",top:"40vh",left:"40vw",border:"3px solid red",borderRadius:"15px",color:"red",fontSize:"26px"},children:t})},K=function(){var e=Object(p.c)((function(e){return e.app.error})),t=Object(r.useState)({}),n=Object(s.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)(!1),i=Object(s.a)(c,2),u=i[0],d=i[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(R,{show:u,onShowModal:function(e){o(e),d(!0)}}),Object(l.jsx)(U,{currentItem:a,show:u,setShow:d}),e&&Object(l.jsx)(H,{error:e})]})},X=Object(C.d)({name:"app",initialState:{status:"idle",error:""},reducers:{},extraReducers:function(e){e.addCase(S.setAppStatus,(function(e,t){e.status=t.payload.status})).addCase(S.setAppError,(function(e,t){e.error=t.payload.error}))}}).reducer,Y=Object(P.c)({app:X,items:z}),G=n(11),ee=Object(C.a)({reducer:Y,middleware:function(e){return e().prepend(G.a)}});window.store=ee;var te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(p.a,{store:ee,children:Object(l.jsx)(K,{})})}),document.getElementById("root")),te()},8:function(e,t,n){e.exports={settingModal:"ModalBuy_settingModal__7XZcB",settingModalForm:"ModalBuy_settingModalForm__1Lfzk",inputBox:"ModalBuy_inputBox__9IQwz",buttonFormSubmit:"ModalBuy_buttonFormSubmit__1HQfS",classNameInput:"ModalBuy_classNameInput__iVj0z"}},9:function(e,t,n){e.exports={generalInput:"Input_generalInput__uOazK",errorInput:"Input_errorInput__o7BIS",inputContainer:"Input_inputContainer__17R6g",textError:"Input_textError__28Ep8",closeError:"Input_closeError__3W4c3"}}},[[68,1,2]]]);
//# sourceMappingURL=main.46fabec1.chunk.js.map