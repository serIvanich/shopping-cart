(this["webpackJsonptest-hlt"]=this["webpackJsonptest-hlt"]||[]).push([[0],{12:function(e,t,r){e.exports={settingModal:"ModalBuy_settingModal__p7kJ2",settingModalForm:"ModalBuy_settingModalForm__1W5tA",inputBox:"ModalBuy_inputBox__1KbVT",buttonFormSubmit:"ModalBuy_buttonFormSubmit__2NPN0",classNameInput:"ModalBuy_classNameInput__3Tj5i"}},19:function(e,t,r){e.exports={itemsViewContainer:"ItemsViewContainer_itemsViewContainer__2D5Yb",itemsBlock:"ItemsViewContainer_itemsBlock__rNRAu",buttonContainer:"ItemsViewContainer_buttonContainer__2kR4F"}},20:function(e,t,r){e.exports={modalContainer:"Modal_modalContainer__3jUqd",modalBox:"Modal_modalBox__2QdsE",closeButton:"Modal_closeButton__3vORo"}},33:function(e,t,r){e.exports={preloaderContainer:"Preloader_preloaderContainer__JePBU"}},36:function(e,t,r){e.exports={styleSnackbar:"ErrorSnackbar_styleSnackbar__3XZBv"}},42:function(e,t,r){},69:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"selectorStatus",(function(){return C})),r.d(n,"selectorError",(function(){return S}));var a={};r.r(a),r.d(a,"selectorItems",(function(){return M}));var o=r(0),c=r.n(o),s=r(15),i=r.n(s),u=(r(42),r(7)),l=r(8),d=r.n(l),m=r(1),b=c.a.memo((function(e){var t=e.item,r=e.show,n=e.onShowModal,a=e.isModalItems,o=t.name,c=t.category,s=t.price,i=a?d.a.styleModalItems:"";return Object(m.jsxs)("div",{className:"".concat(d.a.itemBox," ").concat(i),children:[Object(m.jsx)("div",{style:{fontSize:"16px",textTransform:"uppercase"},children:c}),Object(m.jsx)("div",{style:{fontSize:"40px"},children:o}),Object(m.jsxs)("div",{className:d.a.blockWithButton,children:[Object(m.jsxs)("div",{className:d.a.priceBox,children:[Object(m.jsx)("span",{className:d.a.logoPrice,children:"$"}),s]}),!a&&Object(m.jsx)("button",{disabled:r,onClick:function(){n(t)},children:r?"(=)":"buy"})]})]})})),p=r(6),j=r(19),h=r.n(j),O=r.p+"static/media/1486.279ed7ee.gif",f=r(33),x=r.n(f),_=function(){return Object(m.jsx)("div",{className:x.a.preloaderContainer,children:Object(m.jsx)("img",{src:O,alt:"preload..."})})},v=r(3);var g=r(18),I=function(e){return Math.floor(Math.random()*e)},N=r(2),C=function(e){return e.app.status},S=function(e){return e.app.error},y=r(5),B={setAppStatus:Object(y.b)("app/setAppStatus"),setAppError:Object(y.b)("app/setAppError")},E=Object(y.d)({name:"app",initialState:{status:"idle",error:""},reducers:{},extraReducers:function(e){e.addCase(B.setAppStatus,(function(e,t){e.status=t.payload.status})).addCase(B.setAppError,(function(e,t){e.error=t.payload.error}))}}),w=E.reducer,M=(Object(N.a)({},E.actions),function(e){return e.items.itemsArray}),k=r(23),A=r.n(k),F=r(34),T=r(35),P=r.n(T).a.create({baseURL:"https://run.mocky.io/v3/",withCredentials:!0}),V=function(){return P.get("b7d36eea-0b3f-414a-ba44-711b5f5e528e").then((function(e){return e.data}))},W=r(17),R=function(e,t,r,n,a){var o=function(e,t){a((function(r){return Object(N.a)(Object(N.a)({},r),{},Object(W.a)({},"".concat(e,"Error"),t))}))};"name"===e&&(t?/^[a-zA-Z]+$/i.test(t)||o(e,"Only letters allowed"):o(e,"This field in required")),"phoneNumber"===e&&(r?/^[0-9]+$/i.test(r)?12!==r.length&&o(e,"Should contain 12 characters"):o(e,"Only numbers allowed"):o(e,"This field in required"))},J=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r&&t.dispatch(B.setAppError({error:e.message?e.message:"Some error occurred"})),t.dispatch(B.setAppStatus({status:"failed"})),t.rejectWithValue({errors:[e.message],fieldsErrors:void 0})},z=Object(y.c)("items/getItems",function(){var e=Object(F.a)(A.a.mark((function e(t,r){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch(B.setAppStatus({status:"loading"})),e.prev=1,e.next=4,V();case 4:return n=e.sent,r.dispatch(B.setAppStatus({status:"success"})),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",J(e.t0,r));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}()),q={getItems:z},D=Object(y.d)({name:"items",initialState:{itemsArray:[]},reducers:{},extraReducers:function(e){e.addCase(z.fulfilled,(function(e,t){var r;(r=e.itemsArray).push.apply(r,Object(g.a)(t.payload))}))}}),L=D.reducer,U=Object(N.a)(Object(N.a)({},q),D.actions),Z=function(e){var t=e.show,r=e.onShowModal,c=Object(o.useState)([]),s=Object(u.a)(c,2),i=s[0],l=s[1],d=function(e){var t=Object(p.b)();return Object(o.useMemo)((function(){return Object(v.b)(e,t)}),[e,t])}(U).getItems;Object(o.useEffect)((function(){d()}),[d]);var j=Object(p.c)(a.selectorItems),O=Object(p.c)(n.selectorStatus);if(!j.length)return Object(m.jsx)(_,{});!i.length&&l((function(){return function(e,t){var r=Object(g.a)(e),n=[],a=0;if(0<t<e.length)for(;a<t;){++a;var o=I(r.length);n.push(r[o]),r.splice(o,1)}else n=e.slice(a,t);return n}(j,6)}));return Object(m.jsxs)("div",{className:h.a.itemsViewContainer,children:["loading"===O&&Object(m.jsx)(_,{}),Object(m.jsx)("div",{className:h.a.itemsBlock,children:i.map((function(e,n){return Object(m.jsx)(b,{item:e,show:t,onShowModal:r},n)}))}),Object(m.jsx)("button",{className:h.a.buttonContainer,onClick:function(){var e=i.reduce((function(e,t){return e.price&&e.price<t.price?e:t}),{});r(e)},disabled:"failed"===O||t,children:"Buy cheapest"})]})},$=r(20),K=r.n($),Q=c.a.memo((function(e){var t=e.closeModalOnClick,r=e.show,n=e.children;return r?Object(m.jsx)("div",{className:K.a.modalContainer,children:Object(m.jsxs)("div",{className:K.a.modalBox,children:[n,Object(m.jsx)("div",{className:K.a.closeButton,onClick:t,children:"x"})]})}):null})),X=r(12),H=r.n(X),Y=r(37),G=r(9),ee=r.n(G),te=["type","error","name","onChangeText","onFocusInput"],re=c.a.memo((function(e){var t=e.type,r=e.error,n=e.name,a=e.onChangeText,o=e.onFocusInput,c=Object(Y.a)(e,te),s=r?ee.a.errorInput:ee.a.generalInput,i=r?"":"visibility";return Object(m.jsxs)("div",{className:ee.a.inputContainer,children:[Object(m.jsx)("input",Object(N.a)({type:t,name:n,onChange:function(e){a&&a(e.currentTarget.value)},className:s,onFocus:function(e){o(e.target.name)}},c)),Object(m.jsx)("small",{className:ee.a.textError,hidden:i,children:r}),Object(m.jsx)("div",{className:ee.a.closeError,onClick:function(e){var t=e.target.dataset.name;o(t,!0)},hidden:i,"data-name":n,children:"\u0445"})]})})),ne=c.a.memo((function(e){var t=e.currentItem,r=e.show,n=e.setShow,a=Object(o.useState)(""),c=Object(u.a)(a,2),s=c[0],i=c[1],l=Object(o.useState)(""),d=Object(u.a)(l,2),p=d[0],j=d[1],h=Object(o.useState)({nameError:"",phoneNumberError:""}),O=Object(u.a)(h,2),f=O[0],x=O[1],_=!1,v=!s||!!f.nameError,g=!p||!!f.phoneNumberError,I=v||g,C=function(e){R(e.target.name,s,p,0,x)},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"name"===e?f.nameError&&(x(Object(N.a)(Object(N.a)({},f),{},{nameError:""})),t&&i("")):"phoneNumber"===e&&f.phoneNumberError&&(x(Object(N.a)(Object(N.a)({},f),{},{phoneNumberError:""})),t&&j(""))};return Object(m.jsx)("div",{children:Object(m.jsx)(Q,{closeModalOnClick:function(){n(!1),x({nameError:"",phoneNumberError:""}),i(""),j("")},show:r,children:Object(m.jsxs)("div",{className:H.a.settingModal,children:[Object(m.jsx)(b,{item:t,isModalItems:!0}),Object(m.jsxs)("form",{className:H.a.settingModalForm,onSubmit:function(e){if(e.preventDefault(),v&&R("name",s,p,0,x),g&&R("phoneNumber",s,p,0,x),!I){_=!0;var t="name: ".concat(s,"  tel: ").concat(p);console.log(t)}},children:[Object(m.jsxs)("div",{className:H.a.inputBox,children:[Object(m.jsx)(re,{name:"name",value:s,type:"text",error:f.nameError,onChangeText:i,placeholder:"Name",onFocusInput:S,onBlur:C}),Object(m.jsx)(re,{name:"phoneNumber",value:p,type:"text",error:f.phoneNumberError,onChangeText:j,placeholder:"Number",onFocusInput:S,onBlur:C})]}),Object(m.jsx)("button",{className:H.a.buttonFormSubmit,disabled:_,type:"submit",children:"order"})]})]})})})})),ae=r(36),oe=r.n(ae),ce=c.a.memo((function(e){var t=e.error;return Object(m.jsx)("div",{className:oe.a.styleSnackbar,children:t})})),se=function(){var e=Object(p.c)(n.selectorError),t=Object(o.useState)({}),r=Object(u.a)(t,2),a=r[0],c=r[1],s=Object(o.useState)(!1),i=Object(u.a)(s,2),l=i[0],d=i[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(Z,{show:l,onShowModal:function(e){c(e),d(!0)}}),Object(m.jsx)(ne,{currentItem:a,show:l,setShow:d}),e&&Object(m.jsx)(ce,{error:e})]})},ie=Object(v.c)({app:w,items:L}),ue=r(11),le=Object(y.a)({reducer:ie,middleware:function(e){return e().prepend(ue.a)}});window.store=le;var de=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,70)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),o(e),c(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(p.a,{store:le,children:Object(m.jsx)(se,{})})}),document.getElementById("root")),de()},8:function(e,t,r){e.exports={itemBox:"Item_itemBox__2hTz6",styleModalItems:"Item_styleModalItems__2N6Hv",blockWithButton:"Item_blockWithButton__e-TCS",priceBox:"Item_priceBox__3-eZi",logoPrice:"Item_logoPrice__22XQc"}},9:function(e,t,r){e.exports={generalInput:"Input_generalInput__3ntK5",errorInput:"Input_errorInput__1Ed5l",inputContainer:"Input_inputContainer__2J4Wu",textError:"Input_textError__IPbg4",closeError:"Input_closeError__10Wsa"}}},[[69,1,2]]]);
//# sourceMappingURL=main.40f5e8de.chunk.js.map